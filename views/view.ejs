<!DOCTYPE html>
<html lang="en">
<head>
<title>Home</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">

<style>
  *{
            padding: 0;
            margin: 0;
            box-sizing: border-box;
        }
        body {
    padding: 0;
    margin: 0;
    background: linear-gradient(to right, #141e30, #243b55);
    }
    .navbar {
      background:#243b55;
    }
    .nav-link,
    .navbar-brand {
    color: #fff;
    cursor: pointer;
    font-size: larger;
    }
    .nav-link {
    margin-right: 2em !important;
    }
    .nav-link:hover {
      color: #3498c6;
    }
    .navbar-collapse {
    justify-content: flex-end;
    }

    .div-wrapper {
    height: 200px;
    margin-top: 350px;
    margin-bottom: 350px;
   
}
    .row1{
      background: rgba(0,0,0,.5);
            border-radius: 30px;
            box-shadow: 12px 12px 22px rgb(207, 199, 199);
    }

    .header {
      background: linear-gradient(to bottom, #89cf43, #5aa84f, #3e8e41);
        background-size: cover;
        background-position: center;
        position: relative;
        }

        .Form {
 color: white;
  border-radius: 30px;
  opacity: 90%;
  min-height: 75vh;
  min-width: 100vh;
  max-width: 150vh;
  margin: 40px auto 0; /* add margin to the top */
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  background: rgba(0,0,0,.5);
            border-radius: 30px;
            box-shadow: 12px 12px 22px rgb(207, 199, 199);
 
}

.Forminfo {
  background-color: white;
  border-radius: 30px;
  opacity: 90%;
  min-height: 50vh;
  min-width: 75vh;
  max-width: 100vh;
  margin: 20px auto 0px; /* add margin to the top */
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  background: rgba(0,0,0,.5);
            border-radius: 30px;
            box-shadow: 12px 12px 22px rgb(207, 199, 199);
 
}
.select option {
  font-size: 12px;
}

.container {
  height: 100%;
  background: rgba(0,0,0,.5);
            border-radius: 30px;
            box-shadow: 12px 12px 22px rgb(207, 199, 199);
}
.form-control {
        font-size: 14px;
      }

        .form-control select {
  z-index: 2;
}

.form-control select option {
  z-index: 1;
}

.row {
  height: 100%;
  background: rgba(0,0,0,.5);
            border-radius: 30px;
            box-shadow: 12px 12px 22px rgb(207, 199, 199);
}
        .overlay {
            position: absolute;
            min-height: 100%;
            min-width: 100%;
            left: 10;
            top: 0;
            background: rgba(0, 0, 0, 0.6);
            }
            .description {
                left: 50%;
                position: absolute;
                top: 45%;
                transform: translate(-50%, -55%);
                text-align: center;
                }
                .description h1 {
                color: #6ab446;
                }
                .description p {
                color: #fff;
                font-size: 1.3rem;
                line-height: 1.5;
                
                }
                .description button {
                    border:1px solid #6ab446;
                    background:#6ab446;
                    border-radius: 0;
                    color:#fff;
                    }
                    .description button:hover {
                    border:1px solid #fff;
                    background:#fff;
                    color:#000;
                    }
    
                    .description a {
                        border:1px solid #6ab446;
                        background:#6ab446;
                        border-radius: 0;
                        color:#fff;
                        }
                        .description button:hover {
                        border:1px solid #fff;
                        background:#fff;
                        color:#000;
                        }

            .btn1{
            border: none;
            outline: none;
            height: 50px;
            width: 100%;
            background-color: rgb(0, 0, 0);
            color: #ffffff;
            border-radius: 4px;
            font-weight: bold;
        }
        .btn1:hover{
            background: whitesmoke;
            border: 1px solid;
            color: black;
        }
        .container {
  min-height: 100vh;
  padding: 50px;
  opacity: 80%;
}
select option {
  font-size: 14px;
}

select option:current {
  font-size: 8px;
}
select {
  height: 50px;
  width: 400px;
}
label {
  font-family: 'Times New Roman', Times, serif;
 
  font-size: 35px;
  font-weight: bold;
  color: #030000;
}
.input1 {
font-size: 12px;
}

.hidden {
  display: none;
}
.divform {
  background-color: white;
  border-radius: 30px;
  opacity: 90%;
  margin: 40px auto 0; /* add margin to the top */
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
}
.Form button:hover {
  background: #03e9f4;
  color: #141111;
  border-radius: 5px;
  box-shadow: 0 0 5px #03e9f4,
              0 0 25px #03e9f4,
              0 0 50px #03e9f4,
              0 0 100px #03e9f4;
}

.Form button { 
  background: #010101;
  color: #f0e1e1;
}
        
</style>
</head>
<script>
  
  document.addEventListener('DOMContentLoaded', () => {
    const selectDrop = document.querySelector('#countries');
    

    const countryList = document.getElementById('country');
    fetch('https://restcountries.com/v2/all')
    .then(response => response.json())
    .then(data => {
      data.forEach(country => {
        const option = document.createElement('option');
        option.value = country.name;
        option.text = country.name;
        countryList.add(option);
      });
    });

    const cityList = document.getElementById('city');
    fetch('https://psgc.gitlab.io/api/island-groups/luzon/cities')
    .then(response => response.json())
    .then(data => {
      data.forEach(city => {
        const option1 = document.createElement('option');
        option1.value = city.name;
        option1.text = city.name;
        cityList.add(option1);
      });
    });

    const regionList = document.getElementById('region');
    fetch('https://psgc.gitlab.io/api/island-groups/luzon/regions')
    .then(response => response.json())
    .then(data => {
      data.forEach(region => {
        const option1 = document.createElement('option');
        option1.value = region.name;
        option1.text = region.name;
        regionList.add(option1);
      });
    });

  });
 function toggleSection() {
  var formSection = document.getElementById("viewinfo-section");
  var studentSection = document.getElementById("students-section");
  
  var buttonValue = document.querySelector('button[name="updateinfo"]')

  if (formSection.style.display === "none") {
    formSection.style.display = "block";
    studentSection.style.display = "none";
  } else {
    formSection.style.display = "none";
    studentSection.style.display = "block";
  }
}

</script>

<script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js" integrity="sha384-w1Q4orYjBQndcko6MimVbzY0tgp4pWB4lZ7lr30WKz0vr/aWKhXdBNmNb5D92v7s" crossorigin="anonymous"></script>

<nav class="navbar navbar-expand-md">
<a class="navbar-brand" href="home.ejs">
  </a>
<button class="navbar-toggler navbar-dark" type="button" data-toggle="collapse" data-target="#main-navigation">
<span class="navbar-toggler-icon"></span>
</button>
<div class="collapse navbar-collapse" id="main-navigation">
<ul class="navbar-nav">
<li class="nav-item">
<a class="nav-link" href="/homepage">HOME</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="/addinfo">MY DATA</a>
</li>
<li class="nav-item">
    <a class="nav-link" href="/viewing">VIEW DATA</a>
</li>
<li class="nav-item">
<a class="nav-link" href="/logout">LOGOUT</a>
</li>
</ul>
</div>
</nav>


<% if (studentVariableName && studentVariableName.length > 0) { %>

  <div id="viewinfo-section">

  <% studentVariableName.forEach((student) => { %>
    <form method="POST" action="/updateinfobtn">
      <section class="Form">
        <h4><text>First Name: <%= student.firstname %> </text></h4>
        <h4> <text>Last Name: <%= student.lastname %> </text></h4>
          <h4><text>Middle Name: <%= student.middlename %> </text></h4>
            <h4><text>Address: <%= student.address %> </text></h4>
              <h4> <text>City: <%= student.city %> </text></h4>
                <h4><text>Region: <%= student.region %> </text></h4>
                  <h4><text>Country: <%= student.country %> </text></h4>
                    <h4><text>Zipcode: <%= student.zipcode %> </text></h4>
        <% const birthdate = new Date(student.birthdate).toISOString().substring(0, 10) %>
        <h4> <text>Birth Date: <%= birthdate %> </text></h4>
          <h4> <text>Gender: <%= student.gender %> </text></h4>
            <h4><text>Status: <%= student.civil_status %> </text></h4><br>
        <% if (userType === 'manager' || userType === 'admin') { %>
        <% const updateId = student.id %>
        <h5><button type="submit" name="updateinfo" value="<%= updateId %>">Update</button></h5>
        <% } %>

    </form>
    <form method="POST" action="/deleteinfo">
      <% if (userType === 'admin') { %>
        <% const updateId = student.id %>
        <h5><button name="deleteinfo" value="<%= updateId %>">Delete</button></h5>
        <% } %>
    </form>
  </section>
    </div>
 
    <% }); %>
    <% }
 else { %>
  <section class="Form">
    <div class="container">
      <div class="row justify-content-center align-items-center">
        <h1>There is no Information Provided</h1>
        
      </div>
      <div class="row justify-content-center align-items-center">
        <button type="submit" onclick="window.location.href='/addinfo'">Add Information</button>
      </div>
    </div>
  </section>
<% } %> 


</body>
</html>
